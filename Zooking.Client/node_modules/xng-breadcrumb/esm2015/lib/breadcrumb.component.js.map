{"version":3,"file":"breadcrumb.component.js","sources":["../../../../../../../../../../u0v000i/Desktop/code/temp/xng-breadcrumb/libs/xng-breadcrumb/src/lib/breadcrumb.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Component,\n  ContentChild,\n  Input,\n  OnInit,\n  TemplateRef,\n  ViewEncapsulation,\n  OnDestroy,\n} from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { BreadcrumbItemDirective } from './breadcrumb-item.directive';\nimport { BreadcrumbService } from './breadcrumb.service';\nimport { Breadcrumb } from './types/breadcrumb';\n\n@Component({\n  selector: 'xng-breadcrumb',\n  templateUrl: './breadcrumb.component.html',\n  styleUrls: ['./breadcrumb.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class BreadcrumbComponent implements OnInit, OnDestroy {\n  subscription: Subscription;\n  breadcrumbs: Breadcrumb[];\n  breadcrumbs$: Observable<Breadcrumb[]>;\n  separatorTemplate: TemplateRef<void>;\n  private _separator = '/';\n\n  /**\n   * Breadcrumb item can be customized with this template\n   * Template context is provided label, additional info, first and last indexes\n   * Use cases:\n   * 1) Add an icon along with label\n   * 2) i18n. {{breadcrumb | translate}} or {{breadcrumb | transloco}}\n   * 3) Change text case {{breadcrumb | titlecase}}\n   */\n  @ContentChild(BreadcrumbItemDirective, { static: false, read: TemplateRef })\n  itemTemplate;\n\n  /**\n   * If true, breadcrumb is auto generated even without any mapping label\n   * Default label is same as route segment\n   */\n  @Input() autoGenerate = true;\n\n  /**\n   * By default query params will be preserved with breadcrumbs\n   */\n  @Input() preserveQueryParams = true;\n\n  /**\n   * By default query fragments will be preserved with breadcrumbs\n   */\n  @Input() preserveFragment = true;\n\n  /**\n   * custom class provided by consumer to increase specificity\n   * This will benefit to override styles that are conflicting\n   */\n  @Input() class = '';\n\n  /**\n   * separator between breadcrumbs, defaults to '/'.\n   * User can customize separator either by passing a String or Template\n   *\n   * String --> Ex: <xng-breadcrumb separator=\"-\"> </xng-breadcrumb>\n   *\n   * Template --> Ex: <xng-breadcrumb [separator]=\"separatorTemplate\"> </xng-breadcrumb>\n   * <ng-template #separatorTemplate><mat-icon>arrow_right</mat-icon></ng-template>\n   */\n  @Input('separator')\n  set separator(value: string | TemplateRef<void>) {\n    if (value instanceof TemplateRef) {\n      this.separatorTemplate = value;\n      this._separator = undefined;\n    } else {\n      this.separatorTemplate = undefined;\n      this._separator = value || '/';\n    }\n  }\n  get separator() {\n    return this._separator;\n  }\n\n  constructor(\n    private breadcrumbService: BreadcrumbService,\n    private router: Router\n  ) {}\n\n  ngOnInit() {\n    this.subscription = this.breadcrumbService.breadcrumbs$.subscribe(\n      (breadcrumbs) => {\n        this.breadcrumbs = breadcrumbs\n          .map((breadcrumb) => {\n            // Do not mutate breadcrumb as its source of truth.\n            // There can be scenarios where we can have multiple xng-breadcrumb instances in page\n            return {\n              ...breadcrumb,\n              queryParams: this.preserveQueryParams\n                ? breadcrumb.queryParams\n                : undefined,\n              fragment: this.preserveFragment ? breadcrumb.fragment : undefined,\n            };\n          })\n          .filter((breadcrumb) => {\n            // Usually, breadcrumb list can contain a combination of auto generated and user specified labels\n            // this filters autogenerated labels in case of \"[autoGenerate]: false\"\n            if (this.autoGenerate) {\n              return true;\n            }\n            return !breadcrumb.isAutoGeneratedLabel;\n          });\n      }\n    );\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  handleRoute(breadcrumb: Breadcrumb) {\n    const routeLink = breadcrumb.routeInterceptor\n      ? breadcrumb.routeInterceptor(breadcrumb.routeLink, breadcrumb)\n      : breadcrumb.routeLink;\n    const { queryParams, fragment } = breadcrumb;\n    this.router.navigate([routeLink], { queryParams, fragment });\n  }\n}\n"]}