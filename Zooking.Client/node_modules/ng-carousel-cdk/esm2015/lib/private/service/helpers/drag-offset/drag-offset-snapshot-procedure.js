import { ContinueWith } from '../../../models/procedure/handler/contiue-with.model';
import { getViewportWidthInPx } from '../get-viewport-width-in-px/get-viewport-width-in-px';
import { getViewportWidth } from '../get-viewport-width/get-viewport-width';
import { dragOffsetSnapshot } from './drag-offset-snapshot';
/**
 * Assigns offset to state by given distance coordinates
 */
export function dragOffsetSnapshotProcedure(fromX, toX) {
    return ({ state, environment }) => {
        const result = dragOffsetSnapshot(fromX, toX, state.offset, state.config.widthMode, state.config.alignMode, state.config.shouldLoop, getViewportWidth(state), getViewportWidthInPx(state), state.config.slideWidth, state.slides.length * state.config.slideWidth, environment.maxOverscroll, state.dragBezierFn, state.invertedDragBezierFn);
        state.offset = result;
        return new ContinueWith(state);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhZy1vZmZzZXQtc25hcHNob3QtcHJvY2VkdXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvbmctY2Fyb3VzZWwvc3JjL2xpYi9wcml2YXRlL3NlcnZpY2UvaGVscGVycy9kcmFnLW9mZnNldC9kcmFnLW9mZnNldC1zbmFwc2hvdC1wcm9jZWR1cmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBSXBGLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHNEQUFzRCxDQUFDO0FBQzVGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLDBDQUEwQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLDJCQUEyQixDQUFDLEtBQWEsRUFBRSxHQUFXO0lBQ2xFLE9BQU8sQ0FBQyxFQUFDLEtBQUssRUFBRSxXQUFXLEVBQXVCLEVBQW9CLEVBQUU7UUFDcEUsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQzdCLEtBQUssRUFDTCxHQUFHLEVBQ0gsS0FBSyxDQUFDLE1BQU0sRUFDWixLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFDdEIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQ3RCLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUN2QixnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsRUFDdkIsb0JBQW9CLENBQUMsS0FBSyxDQUFDLEVBQzNCLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUN2QixLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFDN0MsV0FBVyxDQUFDLGFBQWEsRUFDekIsS0FBSyxDQUFDLFlBQVksRUFDbEIsS0FBSyxDQUFDLG9CQUFvQixDQUM3QixDQUFDO1FBQ0YsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFFdEIsT0FBTyxJQUFJLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQyxDQUFDLENBQUM7QUFDTixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGludWVXaXRoIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3Byb2NlZHVyZS9oYW5kbGVyL2NvbnRpdWUtd2l0aC5tb2RlbCc7XG5pbXBvcnQgeyBQcm9jZWR1cmVIYW5kbGVyIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3Byb2NlZHVyZS9oYW5kbGVyL3Byb2NlZHVyZS1oYW5kbGVyLmludGVyZmFjZSc7XG5pbXBvcnQgeyBQcm9jZWR1cmVTdGF0ZUZhY2FkZSB9IGZyb20gJy4uLy4uLy4uL21vZGVscy9wcm9jZWR1cmUvcHJvY2VkdXJlLXN0YXRlLWZhY2FkZS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUHJvY2VkdXJlIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3Byb2NlZHVyZS9wcm9jZWR1cmUudHlwZSc7XG5pbXBvcnQgeyBnZXRWaWV3cG9ydFdpZHRoSW5QeCB9IGZyb20gJy4uL2dldC12aWV3cG9ydC13aWR0aC1pbi1weC9nZXQtdmlld3BvcnQtd2lkdGgtaW4tcHgnO1xuaW1wb3J0IHsgZ2V0Vmlld3BvcnRXaWR0aCB9IGZyb20gJy4uL2dldC12aWV3cG9ydC13aWR0aC9nZXQtdmlld3BvcnQtd2lkdGgnO1xuaW1wb3J0IHsgZHJhZ09mZnNldFNuYXBzaG90IH0gZnJvbSAnLi9kcmFnLW9mZnNldC1zbmFwc2hvdCc7XG5cbi8qKlxuICogQXNzaWducyBvZmZzZXQgdG8gc3RhdGUgYnkgZ2l2ZW4gZGlzdGFuY2UgY29vcmRpbmF0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYWdPZmZzZXRTbmFwc2hvdFByb2NlZHVyZShmcm9tWDogbnVtYmVyLCB0b1g6IG51bWJlcik6IFByb2NlZHVyZSB7XG4gICAgcmV0dXJuICh7c3RhdGUsIGVudmlyb25tZW50fTogUHJvY2VkdXJlU3RhdGVGYWNhZGUpOiBQcm9jZWR1cmVIYW5kbGVyID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZHJhZ09mZnNldFNuYXBzaG90KFxuICAgICAgICAgICAgZnJvbVgsXG4gICAgICAgICAgICB0b1gsXG4gICAgICAgICAgICBzdGF0ZS5vZmZzZXQsXG4gICAgICAgICAgICBzdGF0ZS5jb25maWcud2lkdGhNb2RlLFxuICAgICAgICAgICAgc3RhdGUuY29uZmlnLmFsaWduTW9kZSxcbiAgICAgICAgICAgIHN0YXRlLmNvbmZpZy5zaG91bGRMb29wLFxuICAgICAgICAgICAgZ2V0Vmlld3BvcnRXaWR0aChzdGF0ZSksXG4gICAgICAgICAgICBnZXRWaWV3cG9ydFdpZHRoSW5QeChzdGF0ZSksXG4gICAgICAgICAgICBzdGF0ZS5jb25maWcuc2xpZGVXaWR0aCxcbiAgICAgICAgICAgIHN0YXRlLnNsaWRlcy5sZW5ndGggKiBzdGF0ZS5jb25maWcuc2xpZGVXaWR0aCxcbiAgICAgICAgICAgIGVudmlyb25tZW50Lm1heE92ZXJzY3JvbGwsXG4gICAgICAgICAgICBzdGF0ZS5kcmFnQmV6aWVyRm4sXG4gICAgICAgICAgICBzdGF0ZS5pbnZlcnRlZERyYWdCZXppZXJGbixcbiAgICAgICAgKTtcbiAgICAgICAgc3RhdGUub2Zmc2V0ID0gcmVzdWx0O1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29udGludWVXaXRoKHN0YXRlKTtcbiAgICB9O1xufVxuXG4iXX0=