{"version":3,"file":"ng2-carouselamos.umd.js","sources":["ng2-carouselamos/lib/ng2-carouselamos.component.ts","ng2-carouselamos/lib/ng2-carouselamos.module.ts"],"names":["EventEmitter","Component","Input","Output","ViewChild","NgModule","CommonModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA;AAAI;AACM;AACL,IAWL,oCAIC;AACD;AAEG;AAAyB,QAN1B,qCAAU;AACZ;AACQ,QADN,sCAAc;AAChB;AAGI,QAHF,sCAAe;AACjB;AAEA;AAEiB,QAFjB;AACyB,YAcvB,eAAU,GAAW,CAAC,CAAC;AACzB,YAAE,WAAM,GAAW,CAAC,CAAC;AACrB,YAAE,eAAU,GAAW,CAAC,CAAC;AACzB,YAAE,UAAK,GAAW,CAAC,CAAC;AACpB,YAEE,YAAO,GAAG,CAAC,CAAC;AACd,YAEE,UAAK,GAAe,EAAE,CAAC;AACzB,YAEE,UAAK,GAAW,GAAG,CAAC;AACtB,YAWE,mBAAc,GAAwC,IAAIA,iBAAY,EAAE,CAAC;AAC3E,SA8GC;AACD;AAAY;AAAwB;AAAuB;AAAY,QA3GrE,8CAAW;AAAO;AACP;AACF;AAAY,QAFrB,UAAY,CAAa;AAC3B,YAAI,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;AACvB,gBAAM,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC;AAClC,gBAAM,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;AAC/B,aAAK;AACL,SAAG;AACF;AAAY;AACP;AAAuB;AAAY,QADvC,8CAAW;AAAO;AACP;AAAuB;AAAY,QAD9C,UAAY,CAAa;AAC3B,YAAI,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;AAAE,gBAAA,CAAC,CAAC,cAAc,EAAE,CAAC;AACxE,YAAI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;AACjD,YAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;AAC7B,SAAG;AAEH;AAAY;AAAwB;AAClB;AACF;AAAY,QAF1B,8CAAW;AAAO;AAAwB;AAE3C;AAAuB;AAAY,QAFlC,UAAY,CAAa,EAAE,QAAgB;AAC7C,YAAI,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;AACvB;AAAiC,oBAArB,MAAM,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC;AAC/D,gBAAM,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,GAAG,EAAE,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;AAAE,oBAAA,OAAO;AAClE,gBAAM,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AAC3B,aAAK;AACL,SAAG;AACF;AAAY;AAAwB;AAClB;AAAuB;AAAY,QADpD,8CAAW;AAAO;AAAwB;AAClB;AAAuB;AAAY,QAD3D,UAAY,CAAa,EAAE,QAAgB;AAC7C,YAAI,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;AAAE,gBAAA,CAAC,CAAC,cAAc,EAAE,CAAC;AACxE;AAA6B,gBAAnB,MAAM,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;AAC9E,YAAI,IAAI,MAAM,GAAG,CAAC,IAAI,MAAM,GAAG,EAAE,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;AAAE,gBAAA,OAAO;AAChE,YAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,SAAG;AAEH;AAAY;AAAwB;AACb;AACF;AACf,QAHJ,4CAAS;AAAO;AAChB;AACE;AACJ;AAAY,QAHV,UAAU,CAAa,EAAE,IAAS;AACpC,YAAI,IAAI,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE;AACvB,gBAAM,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AAC1B,gBAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACtB,aAAK;AACL,SAAG;AAEH;AAAY;AAAwB;AACb;AAAuB;AAAY,QADxD,4CAAS;AAAO;AAChB;AAA2B;AAAuB;AAAY,QAD9D,UAAU,CAAa,EAAE,IAAS;AACpC,YAAI,IAAI,SAAS,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC;AAAE,gBAAA,CAAC,CAAC,cAAc,EAAE,CAAC;AACxE,YAAI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACxB,YAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpB,SAAG;AAEH;AAAY;AACO;AAEnB;AAAY,QAHV,uCAAI;AAAO;AACO;AAEnB;AAAY,QAHX,UAAK,IAAS;AAChB;AACQ,gBADA,OAAO,GAAG,CAAC;AACnB;AACQ,gBADA,OAAO,GAAG,CAAC;AACnB,YAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAChD;AAAiC,oBAArB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjC;AAAiC,oBAArB,KAAK,GAAG,EAAE,CAAC,YAAY,IAAI,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC;AAClE,gBAAM,OAAO;AACb,oBAAQ,EAAE,CAAC,WAAW;AACtB,yBAAS,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,gBAAM,IAAI,IAAI,CAAC,MAAM,IAAI,OAAO,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO,EAAE;AAC7D,oBAAQ,IAAI,CAAC,MAAM,GAAG,CAAC,OAAO,CAAC;AAC/B,oBAAQ,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AAC5B,oBAAQ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AACjC,wBAAU,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AAC3C,wBAAU,KAAK,EAAE,IAAI,CAAC,UAAU;AAChC,wBAAU,KAAK,EAAE,KAAK;AACtB,qBAAS,CAAC,CAAC;AACX,oBAAQ,OAAO;AACf,iBAAO;AACP,gBAAM,OAAO,GAAG,OAAO,CAAC;AACxB,aAAK;AACL,YAAI,OAAO,OAAO,CAAC;AACnB,SAAG;AAEH;AAAY;AAA8B;AACtB;AAClB;AAAuB;AACnB,QAHJ,yCAAM;AAAO;AAA8B;AACtB;AAClB;AAAuB;AACnB,QAHP,UAAO,OAAgB,EAAE,IAAS,EAAE,GAAO;AAC7C,YADsC,oBAAA,EAAA,OAAO;AAC7C,YAAI,IAAI,CAAC,UAAU,IAAI,OAAO,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;AAC5C,YAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AAC7B,gBAAM,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AACvC,gBAAM,KAAK,EAAE,IAAI,CAAC,UAAU;AAC5B,gBAAM,KAAK,EAAE,KAAK;AAClB,aAAK,CAAC,CAAC;AACP,YAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AACzC,SAAG;AAEH;AAAY;AACC;AACE;AAAY,QAFzB,6CAAU;AAAO;AACC;AACE;AAAY,QAFhC,UAAW,IAAS;AACtB;AACQ,gBADA,OAAO,GAAG,CAAC;AACnB,YAAI,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AACnD;AAAiC,oBAArB,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjC;AAAiC,oBAArB,KAAK,GAAG,EAAE,CAAC,YAAY,IAAI,MAAM,CAAC,gBAAgB,CAAC,EAAE,CAAC;AAClE,gBAAM,OAAO;AACb,oBAAQ,EAAE,CAAC,WAAW;AACtB,yBAAS,UAAU,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC;AACvE,aAAK;AACL,YAAI,OAAO,OAAO,CAAC;AACnB,SAAG;AAEH;AAAY;AACV;AACc;AACX,QAHH,8CAAW;AAAO;AAEnB;AACA;AAAY,QAHX,UAAY,OAAsB;AACpC,YAAI,IACE,OAAO,CAAC,KAAK;AACnB,gBAAM,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,aAAa,EAAE,OAAO,CAAC,KAAK,CAAC,YAAY,CAAC,EACjE;AACN,gBAAM,IAAI,OAAO,CAAC,KAAK,CAAC,WAAW,EAAE;AACrC,oBAAQ,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;AACjC,wBAAU,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC;AAC3C,wBAAU,KAAK,EAAE,IAAI,CAAC,UAAU;AAChC,wBAAU,KAAK,EAAE,IAAI;AACrB,qBAAS,CAAC,CAAC;AACX,iBAAO;AACP,gBAAM,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;AACtB,aAAK;AACL,SAAG;AAEH;AAAY;AACC;AACb,QAFE,kDAAe;AACf;AACF;AAAY,QAFV;AAAc,YAAd,iBAIC;AACH,YAJI,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;AACxB,YAAI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;AAC7D,YAAI,UAAU;AAAM;AAClB;AAEU,YAHG,cAAM,QAAC,KAAI,CAAC,UAAU,GAAG,CAAC,IAAC,EAAC,CAAC;AAC5C,SAAG,CA9IG;AAAC;gBAPNC,cAAS,SAAC,vCAOgD,8BAaxDC,UAAK;oBAnBN,QAAQ,EAAE,9BAoBV,4BAECA,UAAK;OAtBwB,0BAE9B,jCAqBA,4BAECA,UAAK;AACN,4BAECA,UAAK;AACN,4BAECA,UAAK;AACN,4BAECA,UAAK;AACN,qCAECC,WAAM;AACP,2BAECC,cAAS,SAAC,MAAM,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;AACjC;;;;;;;;;;;iBAvC8C,2bACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAsCa;AAAC,QA4Gf,+BAAC;AACA,KAvJD,IAsJC;AACD;AAAiB;AAAyB,QAxIxC,8CAAuB;AACzB;AACG,QADD,0CAAmB;AACrB;AAAyB,QAAvB,8CAAuB;AACzB;AAEG,QAFD,yCAAkB;AACpB;AAEa,QADX,2CACY;AACd;AAEa,QADX,yCACuB;AACzB;AAEa,QADX,yCACoB;AACtB;AAEa,QADX,yCACwB;AAC1B;AAEa,QADX,yCACwB;AAC1B;AAEa,QADX,yCACwB;AAC1B;AAEY,QADV,kDACyE;AAC3E;AACwB,QAAtB,wCACiB;AACnB;AACK;AAAC;AAAQ;AACO;AAEN;AAKR;ACvEP;AACmB,QAGnB;AACuB,SAIc;iEALpCC,aAAQ;AAAC,0BACR,YAAY,EAAE,CAAC,wBAAwB,CAAC,0BACxC,OAAO,EAAE,CAACC,mBAAY,CAAC,0BACvB,OAAO,EAAE,CAAC,wBAAwB,CAAC;cACpC;;;;;;;;gDACY;AAAC,QAAsB,4BAAC;AACpC,KAND;AAAK;AAAC;AAES;AAGT;AAAC;AAC6B;AAAC;AAAM","sourcesContent":["import {\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  TemplateRef,\n  SimpleChanges,\n  ViewChild,\n  ElementRef,\n  AfterViewInit\n} from \"@angular/core\";\nimport isEqual from \"lodash.isequal\";\n\nexport interface SelectedItemInterface {\n  item: any;\n  index: number;\n  first: boolean;\n}\n\n@Component({\n  selector: \"[ng2-carouselamos]\",\n  styleUrls: [\"./ng2-carouselamos.component.scss\"],\n  templateUrl: \"./ng2-carouselamos.component.html\"\n})\n/*\n *\n * @param() startAt - index of slide to render first. Default to 0.\n * @param() items - List of items to belong in carousel\n * @param() width - Size of window(view) to show\n * @param() $prev - Template for previous button\n * @param() $next - Template for next button\n * @param() $item - Template for the item\n */\nexport class Ng2CarouselamosComponent implements AfterViewInit {\n  childIndex: number = 0;\n  amount: number = 0;\n  startPress: number = 0;\n  lastX: number = 0;\n\n  @Input()\n  startAt = 0;\n\n  @Input()\n  items: Array<any> = [];\n\n  @Input()\n  width: number = 500;\n\n  @Input()\n  $prev: TemplateRef<any>;\n\n  @Input()\n  $next: TemplateRef<any>;\n\n  @Input()\n  $item: TemplateRef<any>;\n\n  @Output()\n  onSelectedItem: EventEmitter<SelectedItemInterface> = new EventEmitter();\n\n  @ViewChild(\"list\", { static: true })\n  list: ElementRef;\n\n  onMousedown(e: MouseEvent) {\n    if (e.which === 1) {\n      this.startPress = e.clientX;\n      this.lastX = this.amount;\n    }\n  }\n  onTouchdown(e: TouchEvent) {\n    if (navigator.userAgent.indexOf(\"Android\") >= 0) e.preventDefault();\n    this.startPress = e.targetTouches[0].clientX;\n    this.lastX = this.amount;\n  }\n\n  onMousemove(e: MouseEvent, maxWidth: number) {\n    if (e.which === 1) {\n      const amount = this.lastX - (this.startPress - e.clientX);\n      if (amount > 0 || amount < -(maxWidth - this.width)) return;\n      this.amount = amount;\n    }\n  }\n  onTouchmove(e: TouchEvent, maxWidth: number) {\n    if (navigator.userAgent.indexOf(\"Android\") >= 0) e.preventDefault();\n    const amount = this.lastX - (this.startPress - e.targetTouches[0].clientX);\n    if (amount > 0 || amount < -(maxWidth - this.width)) return;\n    this.amount = amount;\n  }\n\n  onMouseup(e: MouseEvent, elem: any) {\n    if (e.which === 1) {\n      this.startPress = 0;\n      this.snap(elem);\n    }\n  }\n\n  onTouchup(e: TouchEvent, elem: any) {\n    if (navigator.userAgent.indexOf(\"Android\") >= 0) e.preventDefault();\n    this.startPress = 0;\n    this.snap(elem);\n  }\n\n  snap(elem: any) {\n    let counter = 0;\n    let lastVal = 0;\n    for (let i = 0; i < this.items.length; i++) {\n      const el = elem.children[i];\n      const style = el.currentStyle || window.getComputedStyle(el);\n      counter +=\n        el.offsetWidth +\n        (parseFloat(style.marginLeft) + parseFloat(style.marginRight));\n      if (this.amount <= lastVal && this.amount >= -counter) {\n        this.amount = -lastVal;\n        this.childIndex = i;\n        this.onSelectedItem.emit({\n          item: this.items[this.childIndex],\n          index: this.childIndex,\n          first: false\n        });\n        return;\n      }\n      lastVal = counter;\n    }\n    return counter;\n  }\n\n  scroll(forward: boolean, elem: any, qty = 1) {\n    this.childIndex += forward ? qty : -qty;\n    this.onSelectedItem.emit({\n      item: this.items[this.childIndex],\n      index: this.childIndex,\n      first: false\n    });\n    this.amount = -this.calcScroll(elem);\n  }\n\n  calcScroll(elem: any) {\n    let counter = 0;\n    for (let i = this.childIndex - 1; i >= 0; i--) {\n      const el = elem.children[i];\n      const style = el.currentStyle || window.getComputedStyle(el);\n      counter +=\n        el.offsetWidth +\n        (parseFloat(style.marginLeft) + parseFloat(style.marginRight));\n    }\n    return counter;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      changes.items &&\n      !isEqual(changes.items.previousValue, changes.items.currentValue)\n    ) {\n      if (changes.items.firstChange) {\n        this.onSelectedItem.emit({\n          item: this.items[this.childIndex],\n          index: this.childIndex,\n          first: true\n        });\n      }\n      this.amount = 0;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.startPress = 1;\n    this.scroll(true, this.list.nativeElement, this.startAt);\n    setTimeout(() => (this.startPress = 0));\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { Ng2CarouselamosComponent } from \"./ng2-carouselamos.component\";\n\n@NgModule({\n  declarations: [Ng2CarouselamosComponent],\n  imports: [CommonModule],\n  exports: [Ng2CarouselamosComponent]\n})\nexport class Ng2CarouselamosModule {}\n"]}